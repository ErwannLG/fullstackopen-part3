{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","removePerson","name","number","onClick","id","Persons","persons","filterByName","numbersList","filter","toLowerCase","includes","map","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","handleFilterByName","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","request","delete","window","confirm","object","console","log","put","App","useState","setPersons","setNewName","setNewNumber","setFilterByName","setMessage","useEffect","personService","initialPersons","event","target","preventDefault","personObject","personId","find","catch","error","setTimeout","createdPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ce2f76f7.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({ person, removePerson }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{person.name} {person.number}\r\n\t\t\t<button\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tremovePerson(person.id);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tdelete\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst Persons = ({ persons, filterByName, removePerson }) => {\r\n\tconst numbersList = !filterByName\r\n\t\t? persons\r\n\t\t: persons.filter((person) =>\r\n\t\t\t\tperson.name.toLowerCase().includes(filterByName.toLowerCase())\r\n\t\t  );\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{numbersList.map((person) => (\r\n\t\t\t\t<Person key={person.id} person={person} removePerson={removePerson} />\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n\taddPerson,\r\n\tnewName,\r\n\tnewNumber,\r\n\thandleNameChange,\r\n\thandleNumberChange,\r\n}) => {\r\n\treturn (\r\n\t\t<form onSubmit={addPerson}>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber: <input value={newNumber} onChange={handleNumberChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ filterByName, handleFilterByName }) => {\r\n\treturn (\r\n\t\t<form>\r\n\t\t\tfilter shown with\r\n\t\t\t<input value={filterByName} onChange={handleFilterByName} />\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","const Notification = ({ message }) => {\r\n\tconst successStyle = {\r\n\t\tcolor: \"green\",\r\n\t\tbackground: \"lightgrey\",\r\n\t\tfontSize: 20,\r\n\t\tborderStyle: \"solid\",\r\n\t\tborderRadius: 5,\r\n\t\tpadding: 10,\r\n\t\tmarginBottom: 10,\r\n\t};\r\n\r\n\tconst errorStyle = {\r\n\t\tcolor: \"red\",\r\n\t\tbackground: \"lightgrey\",\r\n\t\tfontSize: 20,\r\n\t\tborderStyle: \"solid\",\r\n\t\tborderRadius: 5,\r\n\t\tpadding: 10,\r\n\t\tmarginBottom: 10,\r\n\t};\r\n\r\n\tif (message === null) {\r\n\t\treturn null;\r\n\t} else if (message.includes(\"removed\") || message.includes(\"failed\")) {\r\n\t\treturn <div style={errorStyle}>{message}</div>;\r\n\t} else {\r\n\t\treturn <div style={successStyle}>{message}</div>;\r\n\t}\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\n// const baseUrl = \"/api/persons\";\r\nconst baseUrl = \"http://localhost:3001/api/persons\";\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst updateNumber = (id, object) => {\r\n\tconsole.log(\"id=\", id, \"object=\", object);\r\n\tconst request = axios.put(`${baseUrl}/${id}`, object);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`);\r\n\tif (window.confirm(\"Do you really want to delete that number?\")) {\r\n\t\treturn request.then((response) => response.data);\r\n\t}\r\n};\r\n\r\nexport default { getAll, create, remove, updateNumber };\r\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNumber, setNewNumber] = useState(\"\");\n\tconst [filterByName, setFilterByName] = useState(\"\");\n\tconst [message, setMessage] = useState(null);\n\n\tuseEffect(() => {\n\t\tpersonService.getAll().then((initialPersons) => {\n\t\t\tsetPersons(initialPersons);\n\t\t});\n\t}, []);\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\tconst handleFilterByName = (event) => {\n\t\tsetFilterByName(event.target.value);\n\t};\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault();\n\t\tconst personObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber,\n\t\t};\n\t\tif (persons.map((person) => person.name).includes(newName)) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${newName} is already in the phonebook. Replace the old number with a new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tconst personId = persons.find((person) => person.name === newName).id;\n\t\t\t\tpersonService.updateNumber(personId, personObject).catch((error) => {\n\t\t\t\t\tconsole.log(\"error: \", error.response.data.error);\n\t\t\t\t\tif (error.response.data.error) {\n\t\t\t\t\t\tsetMessage(`${error.response.data.error}`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMessage(`${newName} has already been removed from the server`);\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tpersonService\n\t\t\t\t.create(personObject)\n\t\t\t\t.then((createdPerson) => {\n\t\t\t\t\tsetPersons(persons.concat(createdPerson));\n\t\t\t\t\tsetNewName(\"\");\n\t\t\t\t\tsetNewNumber(\"\");\n\t\t\t\t\tsetMessage(`Added ${newName}`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetMessage(`${error.response.data.error}`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t}, 5000);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst removePerson = (id) => {\n\t\tpersonService\n\t\t\t.remove(id)\n\t\t\t.then(setPersons(persons.filter((person) => person.id !== id)));\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={message} />\n\t\t\t<Filter\n\t\t\t\tfilterByName={filterByName}\n\t\t\t\thandleFilterByName={handleFilterByName}\n\t\t\t/>\n\t\t\t<h2>add a new</h2>\n\t\t\t<PersonForm\n\t\t\t\taddPerson={addPerson}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons\n\t\t\t\tpersons={persons}\n\t\t\t\tfilterByName={filterByName}\n\t\t\t\tremovePerson={removePerson}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}